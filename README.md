<p align="center">

  <h1>TPoS-Stripe Tap-to-Pay Wrapper</h1>

  <a href="https://opensats.org">
    <img alt="OpenSats Supported" src="https://img.shields.io/badge/OpenSats-Supported-orange?logo=bitcoin&logoColor=white">
  </a>
  <a href="./LICENSE">
    <img alt="MIT" src="https://img.shields.io/badge/License-MIT-success?logo=open-source-initiative&logoColor=white">
  </a>
  <a href="https://github.com/lnbits">
    <img alt="Built for LNbits" src="https://img.shields.io/badge/Built%20for-LNbits-4D4DFF?logo=lightning&logoColor=white">
  </a>
  <a href="https://github.com/lnbits/TPoS-Stripe-Tap-to-Pay-Wrapper/releases/download/v0.0.1/app-release.apk">
    <img alt="Download APK" src="https://img.shields.io/badge/Download-APK-blue?logo=android&logoColor=white">
  </a>

 <br><br>
  <strong>One checkout. Two rails.</strong><br>
  A seamless integration for handling both fiat and Lightning payments within the LNbits ecosystem. This extension allows merchants to accept traditional card payments via Stripe's Tap-to-Pay functionality alongside instant Lightning Network transactions, providing a unified payment experience.

</p>



## Demo

[![Watch the demo on YouTube](https://img.youtube.com/vi/8w4-VQ3WFrk/hqdefault.jpg)](https://www.youtube.com/watch?v=8w4-VQ3WFrk "TPoS Extension Update: Fiat Tap-to-Pay, Sell Bitcoins from the PoS")

*Click the thumbnail to watch the Full demo.*



## Getting Started

Follow these steps for a clean installation of the LNbits Stripe Setup.

### Requirements

- LNbits instance version `v1.3` or later  
- Verified Stripe account  
- Android device with NFC support  
- Stable internet connection  



## Installation

1. **Configure LNbits Fiat Provider**  
   In your LNbits instance, go to **Settings ‚Üí Fiat Provider** and add your Stripe Secret Key and Webhook URL.  
   Ensure the key has permissions for `checkout` and `payment_intents`.

2. **Install the Wrapper TPoS Stripe App (Android)**  
   Download and install the latest [TPoS-Stripe Wrapper APK](https://github.com/lnbits/TPoS-Stripe-Tap-to-Pay-Wrapper/releases/latest).  
   <p align="left">
     <a href="https://github.com/lnbits/TPoS-Stripe-Tap-to-Pay-Wrapper/releases/download/v0.0.1/app-release.apk">
       <img alt="Download APK" src="https://img.shields.io/badge/Download-APK-blue?logo=android&logoColor=white">
     </a>
   </p>

3. **Create a Stripe Terminal Location**  
   In your Stripe Dashboard create a terminal location for your device.  
   <p align="left">
     <img width="360" alt="Stripe Location Setup" src="https://github.com/user-attachments/assets/0b3301d7-9ad5-4101-96ec-e899e2de28e8">
   </p>

4. **Create an LNbits ACL Token**  
   In LNbits, go to your wallet‚Äôs **Access & Control List** and create a new ACL Token with the permission `fiat`.  
   <p align="left">
     <img width="360" alt="LNbits ACL Token" src="https://github.com/user-attachments/assets/ff07350e-8a3f-498e-aaef-40776442a9aa">
   </p>

5. **Link TPoS Record to Stripe**  
   In your LNbits TPoS extension, click the **QR icon** for your PoS record and add:  
   - Stripe Terminal Location ID  
   - ACL Token  
   <p align="left">
     <img width="360" alt="TPoS QR Setup" src="https://github.com/user-attachments/assets/966fec79-37a0-49da-bc9d-4458af275dda">
   </p>

6. **Pair the Android App**  
   Open the TPoS Wrapper app and scan the QR code generated by your LNbits TPoS record.  
   Your device is now ready to accept both Tap-to-Pay and Lightning payments.



## Usage

- Create products in LNbits [TPoS Extension](https://github.com/lnbits/tpos/blob/main/README.md) and assign both Lightning and Stripe payment options.  
- Generate invoices payable with either Bitcoin Lightning or Stripe Tap-to-Pay.  
- Monitor transactions in one unified LNbits dashboard.



## Contributing

We welcome contributions to the LNbits Stripe Extension!



1. Fork the repository.  
2. Create a new branch: `git checkout -b feature/your-feature-name`  
3. Make your changes.  
4. Commit: `git commit -m 'feat: Add new feature X'`  
5. Push: `git push origin feature/your-feature-name`  
6. Open a Pull Request.

Please ensure your code adheres to the project's coding standards.

<div align="center">

### üõçÔ∏è Powered by LNbits

LNbits empowers developers and merchants with modular, open-source tools for building Bitcoin-based systems ‚Äî fast, free, and extendable.

<p>
  <a href="https://shop.lnbits.com/" target="_blank">
    <img src="https://img.shields.io/badge/Visit-LNbits%20Shop-7C3AED?logo=shopping&logoColor=white&labelColor=5B21B6" alt="LNbits Shop">
  </a>
  <a href="https://my.lnbits.com/login" target="_blank">
    <img src="https://img.shields.io/badge/Try-myLNbits%20SaaS-2563EB?logo=lightning&logoColor=white&labelColor=1E40AF" alt="myLNbits SaaS">
  </a>
  <a href="https://news.lnbits.com/" target="_blank">
    <img src="https://img.shields.io/badge/Read-LNbits%20News-F97316?logo=rss&logoColor=white&labelColor=C2410C" alt="LNbits News">
  </a>
</p>

</div>

<hr style="margin: 28px 0; border: 0; border-top: 1px solid #e5e7eb;" />



